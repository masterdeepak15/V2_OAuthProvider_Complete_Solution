@inherits LayoutComponentBase

<nav class="navbar navbar-expand-lg navbar-dark" style="background:linear-gradient(135deg,#6366f1,#8b5cf6);">
    <div class="container">
        <a class="navbar-brand fw-bold d-flex align-items-center gap-2" href="/">
            <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10
                         10-4.48 10-10S17.52 2 12 2zm-1
                         14H9V8h2v8zm4 0h-2V8h2v8z"/>
            </svg>
            Demo App
        </a>
        <div class="d-flex align-items-center gap-3">
            <NavLink class="nav-link text-white opacity-75" href="/" Match="NavLinkMatch.All">Home</NavLink>
            <NavLink class="nav-link text-white opacity-75" href="/profile">Profile</NavLink>
            <NavLink class="nav-link text-white opacity-75" href="/dashboard">Dashboard</NavLink>

            <AuthorizeView>
                <Authorized>
                    <div class="d-flex align-items-center gap-2 ms-2">
                        <div class="rounded-circle bg-white text-primary fw-bold d-flex align-items-center justify-content-center"
                             style="width:34px;height:34px;font-size:13px;">
                            @(context.User.Identity?.Name?.Substring(0, 1).ToUpper() ?? "?")
                        </div>
                        <span class="text-white small d-none d-md-inline">
                            @context.User.Identity?.Name
                        </span>
                        <form method="post" action="/Account/Logout" style="display:inline;">
                            <button type="submit"
                                    class="btn btn-sm btn-outline-light ms-1">
                                Sign out
                            </button>
                        </form>
                    </div>
                </Authorized>
                <NotAuthorized>
                    <a href="/Account/Login" class="btn btn-sm btn-light text-primary fw-semibold ms-2">
                        Sign in
                    </a>
                </NotAuthorized>
            </AuthorizeView>
        </div>
    </div>
</nav>

<main class="container py-4">
    <ErrorBoundary>
        @Body
    </ErrorBoundary>
</main>

<footer class="border-top py-3 mt-5">
    <div class="container text-center text-muted small">
        Demo App — powered by OAuth Provider &nbsp;·&nbsp;
        <a href="https://localhost:5000/.well-known/openid-configuration" class="text-muted" target="_blank">
            Discovery Endpoint ↗
        </a>
    </div>
</footer>
